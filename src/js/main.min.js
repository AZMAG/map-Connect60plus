//*** JavaScript Document
//*** main.min.js
//*** Document for Connect60Plus Website @ MAG
//*** author Wolfley
//*** 06/21/2013
function initialize(){mapContainer=document.getElementById("map-canvas"),dirContainer=document.getElementById("dir-container"),fromInput=document.getElementById("fromAddress"),toInput=document.getElementById("toAddress"),travelModeInput=document.getElementById("travel-mode-input"),unitInput=document.getElementById("unit-input");var e={zoom:12,minZoom:9,center:new google.maps.LatLng(33.5,-112),mapTypeId:google.maps.MapTypeId.ROADMAP,scaleControl:!0,mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.TOP_RIGHT},panControl:!0,panControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP},zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.LARGE,position:google.maps.ControlPosition.RIGHT_TOP},streetViewControl:!0,streetViewControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP}};map=new google.maps.Map(mapContainer,e),geocoder2=new google.maps.Geocoder,dirService=new google.maps.DirectionsService,dirRenderer=new google.maps.DirectionsRenderer(rendererOptions),dirRenderer.setMap(map);var t=new google.maps.KmlLayer({url:County,preserveViewport:!0,suppressInfoWindows:!0});t.setMap(map),layers[0]=new google.maps.KmlLayer({url:entertainment,preserveViewport:!0,suppressInfoWindows:!1}),layers[1]=new google.maps.KmlLayer({url:interest,preserveViewport:!0,suppressInfoWindows:!1}),layers[2]=new google.maps.KmlLayer({url:sports,preserveViewport:!0,suppressInfoWindows:!1}),layers[3]=new google.maps.KmlLayer({url:accommodations,preserveViewport:!0,suppressInfoWindows:!1}),layers[4]=new google.maps.KmlLayer({url:education,preserveViewport:!0,suppressInfoWindows:!1}),layers[5]=new google.maps.KmlLayer({url:government,preserveViewport:!0,suppressInfoWindows:!1}),layers[6]=new google.maps.KmlLayer({url:saftey,preserveViewport:!0,suppressInfoWindows:!1});for(var i=0;layers.length>i;i++)layers[i].setMap(map);map.enableKeyDragZoom({boxStyle:{border:"2px solid red"},paneStyle:{backgroundColor:"gray",opacity:.2}});var n={types:["geocode"],componentRestrictions:{country:"us"}},a=document.getElementById("address");autocomplete=new google.maps.places.Autocomplete(a,n);var o=document.getElementById("fromAddress");autocomplete=new google.maps.places.Autocomplete(o,n);var r=document.getElementById("toAddress");autocomplete=new google.maps.places.Autocomplete(r,n),autocomplete.bindTo("bounds",map)}function toggleLayer(e){null===layers[e].getMap()?layers[e].setMap(map):layers[e].setMap(null)}function codeAddress(){var e=document.getElementById("address").value;geocoder2.geocode({address:e},function(e,t){if(t==google.maps.GeocoderStatus.OK){map.setCenter(e[0].geometry.location);var i=new google.maps.Marker({map:map,position:e[0].geometry.location});i.setTitle(e[0].formatted_address),map.setZoom(16)}else alert("Geocode was not successful for the following reason: "+t)})}function showDirections(e,t){return t!=google.maps.DirectionsStatus.OK?(alert("Directions failed: "+t),void 0):(dirRenderer.setMap(map),dirRenderer.setPanel(dirContainer),dirRenderer.setDirections(e),void 0)}function getSelectedTravelMode(){var e=travelModeInput.options[travelModeInput.selectedIndex].value;return"driving"==e?e=google.maps.DirectionsTravelMode.DRIVING:"transit"==e?e=google.maps.DirectionsTravelMode.TRANSIT:"bicycling"==e?e=google.maps.DirectionsTravelMode.BICYCLING:"walking"==e?e=google.maps.DirectionsTravelMode.WALKING:alert("Unsupported travel mode."),e}function getDirections(){clearAll();var e=fromAddress.value,t=toAddress.value,i={origin:e,destination:t,travelMode:getSelectedTravelMode(),unitSystem:google.maps.DirectionsUnitSystem.IMPERIAL,provideRouteAlternatives:!0};dirService.route(i,showDirections)}function clearAll(){dirRenderer.setMap(null),dirRenderer.setPanel(null)}function toggleLeg(){$("#poi").is(":hidden")?($("#poi").slideDown(),$("#directions, #findAddress, #info").slideUp(),$("#poi").draggable({containment:"#map-canvas"}),$("#poiTab").html("Points of Interest")):($("#poi").slideUp(),$("#poiTab").html("Points of Interest"))}function toggleDirections(){$("#directions").is(":hidden")?($("#directions").slideDown(),$("#directions").draggable({containment:"#map-canvas"}),$("#poi, #findAddress, #info").slideUp(),$("#directionTab").html("Directions")):($("#directions").slideUp(),$("#directionTab").html("Directions"))}function toggleAddress(){$("#findAddress").is(":hidden")?($("#findAddress").slideDown(),$("#findAddress").draggable({containment:"#map-canvas"}),$("#directions, #poi, #info").slideUp(),$("#addressTab").html("Address")):($("#findAddress").slideUp(),$("#addressTab").html("Address"))}function toggleInfo(){$("#info").is(":hidden")?($("#info").slideDown(),$("#info").draggable({containment:"#map-canvas"}),$("#directions, #findAddress, #poi").slideUp(),$("#infoTab").html("Info/Help")):($("#info").slideUp(),$("#infoTab").html("Info/Help"))}function openemailwin(){var e=href=jasonemail;win=window.open(e,"","resizable=no,location=no,menubar=no,scrollbars=no,status=no,toolbar=no,fullscreen=no,dependent=no,width=600px,height=660px")}function print(){}var map,mapContainer=null,dirContainer=null,fromInput=null,toInput=null,travelModeInput=null,unitInput=null,dirService=null,dirRenderer=null,layers=[],rendererOptions={draggable:!0};google.maps.visualRefresh=!0,setTimeout('google.maps.event.trigger(map, "resize");map.setZoom(map.getZoom());map.setCenter(map.getCenter());',500),$(document).ready(function(){$("#poiTab").fadeTo("slow"),$("#poi").fadeTo("slow"),legTop=$("#poiTab").height(),$("#poi").css("top",poiTab),$("#poiTab").click(function(){toggleLeg()})}),$(document).ready(function(){$("#poi").hide()}),$(document).ready(function(){$("#directionTab").fadeTo("slow"),$("#directions").fadeTo("slow"),legTop=$("#directionTab").height(),$("#directions").css("top",directionTab),$("#directionTab").click(function(){toggleDirections()})}),$(document).ready(function(){$("#directions").hide()}),$(document).ready(function(){$("#addressTab").fadeTo("slow"),$("#findAddress").fadeTo("slow"),legTop=$("#addressTab").height(),$("#findAddress").css("top",addressTab),$("#addressTab").click(function(){toggleAddress()})}),$(document).ready(function(){$("#findAddress").hide()}),$(document).ready(function(){$("#infoTab").fadeTo("slow"),$("#info").fadeTo("slow"),legTop=$("#infoTab").height(),$("#info").css("top",infoTab),$("#infoTab").click(function(){toggleInfo()})}),$(document).ready(function(){$("#info").hide()});var style1={color:"#E8E8E8",backgroundColor:"#1B1B1B",fontSize:14,padding:"14.5px 20px 14.5px"},style2={color:"#888888",backgroundColor:"#1B1B1B",fontSize:16,padding:"10px 20px 10px"};$(".nav").on("mouseenter",function(){$(this).css(style2)}).on("mouseleave",function(){$(this).css(style1)}),$(document).ready(function(){$("#printMap").click(function(){$(this).attr("href",PrintGmap.getPrintUrl([fromAddress.value,toAddress.value]))})});var PrintGmap={getPrintUrl:function(e){var t="http://maps.google.com/maps?f=d&source=s_d";for(i=0;e.length>i;i++)0==i?t+="&saddr=":1==i&&(t+="&daddr="),t+=e[i].replace(/ /g,"+"),i!=e.length-1&&0!=i&&(t+="+to:");return t+="&layer=c&ie=UTF8&z=10&pw=2&hl=en"}};google.maps.event.addDomListener(window,"load",initialize);